# Chapter 4 : 자바스크립트 기초
- 웹 문서의 뼈대를 이루는 것이 HTML, 외형을 꾸미고 미적 효과를 추가하는 것이 CSS, 여기서 다른 사이트 보다 내용을 강조하고 사용자의 동작에 즉시 반응하려면 자바 스크립트를 사용해야 한다. 

## 13 자바스크립트와 첫만남
- 자바스크립트로 서버나 웹에서 작동하는 프로그램을 만드는 등 웹의 모든 부분을 다룰 수 있다. 따라서 자바스크립트는 웹 개발에 핵심 언어가 되었다. 본 챕터는 따라서 해당 언어의 역할, 언어의 성격을 배운다. 

### 13-1 자바스크립트로 무엇을 할까

#### 웹의 요소를 제어합니다. 
- 동적인 동작을 구현하는데 자바 스크립트가 사용된다. 
- 탭을 클릭하여 새로운 컨텐츠가 나타난다거나, 하면서 공간을 절약하고 필요한 내용만 보이게 만드는 등의 역할을 자바 스크립트가 활용된다. 
- 더불어 서버가 원래는 하던, 폼으로 받은 데이터를 검사하고, 서버로 전달하는 작업도 자바 스크립트가 해준다. 
#### 웹 어플리케이션을 만듭니다. 
- 브라우저에서 문서 작업을 하고, 그림을 그리고, 게임을 할 수 있다. 이러한 작업들이 모두 자바 스크립트로 만들고, API를 활용하는 방식을 통해 공개된 선에선 누구나 사용 및 활용이 가능하다. 

#### 다양한 라이브러리를 사용할 수 있습니다. 
- 과거에는 서버에서 했던 일을 클라이언트에서 할 수 있게 변했고, 여기서 자바 스크립트의 기능이 더욱 강력해졌기 때문이다. 
- 웹 어플리케이션 개발에는 리액트<sup>React</sup>, 앵귤러<sup>Angular</sup>, 뷰<sup>Vue.js</sup> 같은 프레임 워크가, 그래픽에는 D3.js 나 DOM 을 조작하기 편하게 해주는 제이쿼리<sup>jQuery</sup> 같은 라이브러리가 이러한 역할을 해준다. 

#### 서버 개발을 할 수 있습니다. 
- Node.js 를 사용하면 백엔드 개발이 사용 가능하다. 

### 13-2 웹브라우저가 자바스크립트를 만났을 때
- 웹 브라우저는 자바스크립트 소스를 읽고 처리하는 `해석기(JavaScript interpreter)`가 있다. `<script>` 태그를 이용해 작성할 수 있고, 소스만 별도로 파일을 작성해 웹 문서와 연결하여 사용할 수 있다. 

#### 웹 문서 안에 `<script>` 태그로 자바스크립트 작성하기 
- 위 태그를 활용하면 자바스크립트 소스를 작성한 것으로 자바 스크립트를 실행하는 것이 가능하다. 
- 자바스크립트는 웹 문서에서 이미지나 텍스트 등의 요소를 제어하는 경우가 많으므로 되도록 이면 이미지나 텍스트 등을 다 표시한 후에 실행하는 것이 좋다. 따라서 `</body>` 태그 직전에 자바 스크립트 소스를 삽입하는 경우가 많다.
- HTML, CSS 와는 다르게, 영어의 대소문자를 구분한다. 따라서 변수 이름이나 함수 이름에 대소무자 구분이 필수다. 

```HTML
(... 생략 ...)
<body>
	<h1 id "heading">자바스크립트</h1>
	<p id="txt">위 텍스트를 클릭해 보세요</p>
	<script>
		var heading = document.querySelector('#heading');
		heading.oclick = function() {
			heading.style.color = "red";
		}
	</script>
(... 생략 ...)
```

![](./src/스크린샷%202022-09-22%20오후%202.26.53.png)

- HTML 문서 안에서 자바 스크립트 소스를 작성하면 웹 문서에서 바로 확인이 가능하지만, 단점이 더 많다. 
	- 관리 측면에서 어려울 뿐 아니라, 가독성을 해친다. 
	- 여러 웹 문서에서 동일한 자바 스크립트 소스를 활용하는 경우 내부 선언은 매번 동일한 내용을 반복 기재해야 함
	- 따라서 외부 스크립트 파일로 저장하여 웹 문서와 연결하는 방법을 많이 사용한다. 

#### 외부 스크립트 파일로 연결해서 자바스크립트 작성하기
- 외부 자바스크립트 파일은 `<script>` 태그 없이 자바 스크립트 소스만 작성, 확장자는 `*.js` 파일로 저장한다. 
- `<script>` 태그에 `src` 속성을 이용해서 자바스크립트 파일을 연결하면 된다. 
- 이러한 방식을 '외부 스크립트 파일을 연결한다'고 말한다. 
- 기본형 : `<script src="external script src directory"></script>`

```javascript
var heading = document.querySelector('#heading');
heading.onclick = function() {
	heading.style.color = "red";
}
```

```html
(... 생략 ...)
<body>
	<h1 id "heading">자바스크립트</h1>
	<p id="txt">위 텍스트를 클릭해 보세요</p>
	<script src="js/change-color.js"></script>
(... 생략 ...)
```

#### 웹 브라우저에서 스크립트를 해석하는 과정

![](src/스크린샷%202022-09-22%20오후%203.11.12.png)

- 웹 문서가 자바스크립트 소스를 해석하는 것은 다음의 과정으로 진행된다. 
	1. 1행의 문서 타입을 보고 웹 문서임을 판단한다. HTML 표준에 맞춰 해석을 시작한다. 
	2. `head`태그와 `body`태그 사이에 어떤 태그가 있고, 관련성을 분석한다. 
	3. 7 ~ 14행의 스타일 정보를 분석한다. 
	4. 20행의 자바스크립트 태그를 만나면, 웹 브라우저에 포함된 자바스크립트 해석기에게 스크립트를 전달하게 되고, 해석기가 이 내용을 해석한다. 
	5. 2번 항목에서 분석한 HTML 과 3번의 CSS 해석 정보에 따라 웹 브라우저 화면이 표시된다. 
	6. 마지막으로 자바스크립트 조건에 맞다면(여기선 클릭) 분석기가 자바스크립트를 실행하여 그 결과를 화면에 표시한다. 

### 13-3 자바스크립트 용어와 기본 입출력 방법
#### 식과 문 
- 식<sup>expression</sup> : 표현식, 연산 식  뿐 아니라 실제 값도 함수를 실행하는 것도 모두 포함된다. 어떤 값을 만들어 낼 수 있다면 모두 식이 될 수 있으며, 식은 변수에 저장된다. 
- 문<sup>statement</sup> : 명령, 문장 끝에 세미콜론(;) 을 붙여서 구분하며, 조건문, 제어문 등이 이에 포함된다. 넓은 의미에서 문이 값이나 식을 포함하는 관계를 가진다. 

#### 간단한 입출력 방법
##### 알림 창 출력하기 
- 알림창<sup>alert</sup> : 가장 많이 사용되는 대화상자이며, 브라우저에서 알림창을 띄워 메시지를 표시하는게 가능하다. 
- 기본형 : `alert(message)`

##### 확인창 출력하기
- 확인창<sup>confirm</sup> 사용자가 '확인' , '취소' 버튼 중 직접 클릭 할 수 있으며, 그 결과에 맞게 동작하는 것이 가능하다. 
- 기본형 : `confirm(message)`
- 사용자가 어떤 버튼을 눌렀는지를 변수로 저장하며, 그 값을 기준으로 프로그램을 처리 가능하다. 

```javascript
var reply = confirm("정말 배경 이미지를 바꾸시겠습니까?");
```

![](./src/스크린샷%202022-09-22%20오후%203.44.18.png)

##### 프롬프트 창에서 입력받기 
- 프롬프트 창<sup>prompt</sup> : 텍스트 필드가 있는 창으로, 간단한 메시지를 입력하면 이를 프로그램에서 사용하는 것이 가능하다. 
- 기본형 : `prompt(message) || prompt(message, default)`
- 두 번째 기본형은 값을 지정하면, 뜨는 창에 기본적으로 입력된 값으로 나타나게 된다. 기본값이 없으면 칸은 비워지게 된다. 

![](./src/스크린샷%202022-09-22%20오후%203.46.16.png)

 ![](./src/스크린샷%202022-09-22%20오후%203.47.11.png)

##### 웹 브라우저 화면에 출력을 담당하는 document.write() 문
- 단순히 브라우저 화면에서 결괏값을 확인하는 용도로는 이 문을 사하면 된다. (printf 같은 용으로 사용이 가능하다.)
- 해당 속성을 이해하려면 `document`객체를 이해해야 하나, 핵심은 웹 문서에서 괄호 안의 내용을 표시하는(write) **명령문** 이라고 이해하면 된다. 
- 해당 문 괄호 안에는 실제 웹브라우저 화면에 표시할 내용이나 어떤 결과값이 저장된 변수를 넣을 수 있다. 괄호 안에 따옴표, 작은 따옴표 사이에 입력한 것은 그대로 표시된다.
- 동일하게 따옴표 안에 HTML 태그도 함께 사용 하는 것이 가능하다. 

```javascript 
document.write("<h1>어서오세요</h1>");
```

![](./src/스크린샷%202022-09-22%20오후%203.53.02.png)

- 표시 할 때 내용과 변수를 섞어서 나타내는 것도 가능하다. + 연산자를 활용하면 되며, 해당 연산자는 더하기(plus) 의 개념이 아닌 **연결 연산자** 라고 부른다.

```javascript
var name = prompt("이름을 입력하세요.");
document.write("<b><big>" + name + "</big></b>님, 환영합니다.");
```

![](./src/스크린샷%202022-09-22%20오후%204.00.18.png)

##### 콘솔 창에 출력하는 console.log() 문
- 괄호 안에 내용을 콘솔 창에 표시하는 역할을 한다. 
- 콘솔 : 웹 브라우저의 개발자 도구 창에 포함된 공간. 소스 코드의 오류 발견이나 변수값을 확인하는 용도로 사용 가능하다. 
- 변수나, 괄호 안에 따옴표로 표시할 텍스트를 넣을 수도 있다. 단, HTML 태그는 사용이 불가능하다. 
- <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>J</kbd> 를 누르면 콘솔창을 열수 있다. (맥에선 눌러도 반응은 안하지만, 대신 개발자 도구를 활성화 시키면 콘솔 창이 뜬다.)

![](./src/스크린샷%202022-09-22%20오후%204.05.03.png)

##### 콘솔창에서 오류를 찾고 수정하기
- 자바스크립트 소스 작성 이후 원하는 결과가 안나오는 경우가 발생한다. 이는 보통 오타 때문
- 이때 콘솔 창을 활성화하면, 오류에 대한 내용이 나오며, 몇 번 자바 스크립트 행에서 잘못 되었는지 등을 확인하는 것이 가능하다.


### 13-4 자바스크립트 스타일 가이드
#### 코딩 규칙이 왜 필요할까요?
- 코딩 규칙, 스타일 가이드, 커딩 컨벤션, 코딩 스타일, 표준 스타일 등으로 불리며, 책에선 스타일 가이드라고 부른다. 
- 웹 문서를 위한 언어이다보니 다른 프로그래밍 언어보다 데이터 유형<sup>type</sup> 이 유연하며, 주의를 기울이지 않으면 오류 발생 가능성이 늘게 된다. 
- 유지보수 용이

#### 자바스크립트 스타일 가이드
- 스타일 가이드는 큰 회사에서 보통 배포한 것을 기준으로 작성되는 경우가 많다. 

#### 자바스크립트 소스를 작성할 때 지켜야 할 규칙 
1. 코드를 보기좋게 들여쓸 것 : <kbd>space</kbd> , <kbd>tab</kbd>
2. 세미콜론으로 문장을 구분한다. 
3. 공백을 넣어 읽기 쉽게 작성한다. '
4. 소스 코드를 설명하는 주석을 작성한다. : 한 줄 주석, 여러 줄 주석
5. 식별자는 정해진 규칙을 지켜 작성한다. 
	1. 영문, 언더스코어, 달러 기호로 시작
	2. 두 단어 이상은 하이픈, 언더바 혹은 카멜 케이스로 형태를 만들어 가독성을 살린다. 
6. 예약어<sup>keyword</sup> 는 사용할 수 없다. 


## 14 자바스크립트 기본 문법
### 14-1 변수 알아보기
- 변수 / 상수
- 변수를 사용하기 위하여 이름을 붙이는 것, `변수 선언`
	- 영문자, 언더스코어, 숫자만 사용 가능하다.
	- 자바스크립트는 영어 대소문자를 구분하며, 예약어 변수 이름으로 쓸수 없다. 
	- 여러 단어 연결 시 대문자를 섞는 낙타표기법<sup>camel case</sup>을 사용한다. 
	- 의미있는 이름으로 변수를 지어라.
- 변수를 선언할 때는 `var` 이란 키워드를 적고 변수명을 적으면 선언이 된다. 
- = 로  값을 할당할 수 있고, 이를 값 할당이라고 한다. 

### 14-2 자료형 이해하기
- 자료형<sup>data type</sup> 컴퓨터가 처리할 수 있는 자료의 형태

![](./src/스크린샷%202022-09-22%20오후%204.33.07.png)

- 숫자형은 정수형과 실수형으로 구분하지만, 기본적으로 계산 자체에 적합하지 않다. 
- 문자열은 따옴표 들로 묶어서 표현하는 문자 데이터이다. 만약 큰 따옴표로 묶은 문자열 안에 다른 문자열을 넣는다고 한다면, 다음처럼 수정해서 넣어야 인식이 된다. 

```javascript
document.write("<span style='color:blue;'>", "Do it", "</span>");
```

- 논리형은 온전히 참 거짓을 표현하는 자료형이다. 
- Undefined 형은 자료형이 정의되지 않은 때의 데이터 상태를 말한다. 즉, 변수 선언만 하고 값이 할당되지 않은 자료형을 말한다. 
- null : 데이터의 값이 유효하지 않은 상태를 나타낸다. undeifined 와 비슷하지만, 기본적으로 유효하지 않은 것을 말하므로, 없는 것과 구분된 케이스이다. 
- 배열은 대괄호로 묶어서 선언이 가능하다. 대괄호 안에 숫자를 집어넣으면 변수 배열의 순서상 해당하는 값을 의미하게 된다. 
- 자바스크립트는 기본적으로 데이터가 유연하게 설계되어 자연스럽게 변수 데이터 유형이 바뀌고 계산이 된다는 점이 보이는데, 그렇기 때문에 각종 버그에서 자유롭지 못하다는 점을 갖고 있다. 

### 14-3 연산자 알아보기
- 산술 연산자

![](./src/스크린샷%202022-09-22%20오후%204.44.15.png)

- 할당 연산자
![](./src/스크린샷%202022-09-22%20오후%204.44.45.png)


- 연결 연산자 '+'

```javascript
document.write (birthYear + "년에 태어난 사람의 나이는 " + age + "세입니다.");
```

- 비교 연산자

![](./src/스크린샷%202022-09-22%20오후%204.45.47.png)

- 문자열 비교는 아스키 값을 비교해서 결정한다. 
- 논리 연산자

![](./src/스크린샷%202022-09-22%20오후%204.46.56.png)

### 14-4 조건문 알아보기
- 기존 언어들과 유사하기에 그렇지 않은 부분만 정리한다. 
- if 문과 if~else 문
- 조건 연산자로 조건 체크하기 삼단 연산자 : `(조건) ? true case : flase case;`
- 논리 연산자로 조건 체크하기 (or, and, not)
- switch 문

### 14-5 반복문 알아보기
#### 반복문은 왜 필요할까?
#### for 문 사용하기 

![](./src/스크린샷%202022-09-22%20오후%204.50.35.png)

#### 중첩된 for 문 사용하기
#### while 문과 do ~ while 문 사용하기
- do ~ while 문 기본형 : 

```javascrip
do {
	commands
} while(조건)
```

#### break 문과 continue 문

## 15 함수와 이벤트

### 15-1 함수 알아보기
#### 여러 동작을 묶은 덩어리, 함수 
- 동작해야 할 목적대로 묶은 명령을 함수<sup>function</sup> 이라고 한다. 
- 자바 스크립트의 표준 라이브러리를 활용하면 여러 함수를 활용할 수 있다. 
![](./src/스크린샷%202022-09-28%20오후%205.39.28.png)

#### 함수는 왜 사용할까?
#### 함수 선언 및 호출 
- **함수 선언** : 함수가 어떤 명령을 처리할지 미리 알려주는 것 **함수를 정의한다** 라고도 한다. 
- 기본형 : 

```javascript
function 함수명() {
	//명령 	
}
```

- 함수 선언과 실행 순서 
	- 자바스크립트 소스를 해석 시 함수 선언 부분을 가장 먼저 한다. 즉, 개발자가 어느 곳에서 함수를 선언해도 그 위치를 먼저 읽으므로 함수 실행은 어디서든 가능하다. 
	- 단 보통 한 파일 안에 여러 함수를 선언시, 이를 소스 앞 부분에서 선언하고 모아두면서 사용하면 된다. 

### 15-2 var를 사용한 변수의 특징
- ES6 버전 이후 let, const 라는 새로운 예약어가 생겼고, var, let, const 예약어 키워드의 존재 의의를 이해해야 한다. 

#### 변수의 적용 범위 스코프 알아보기
- 변수가 적용되는 범위를 스코프<sup>scope</sup> 이라고 한다. 
- 자바 스크립트 함수에서 변수를 사용할 때는 이 영역을 주의해야 한다. 
- 지역 변수 (로컬 변수)
- 전역 변수 (글로벌 변수)

##### 함수 안에서만 쓸 수 있는 지역 변수 
- var 예약어와 함께 함수 안에서 선언하고 사용하는 경우 함수 밖으로 나와서는 사용이 불가능하다. 

##### 스크립트 안에서 자유롭게 쓸 수 있는 전역 변수 
- 어디서든 쓸 수 있고, 적용 범위를 제한하지 않고 쓸 수 있다. 
- var 키워드를 빼고 선언하면, 함수 내외 관계없이 사용이 가능하다.

#### var 와 호이스팅 
- 호이스팅<sup>hoisting</sup> : 상황에 따라 변수의 선언과 할당을 분리해서, 선언 부분을 스코프 가장 위쪽으로 끌어 올리는 것을 말한다. 

```javascript
var x = 10;

function displayNumber() {
	console.log("X is " + x);
	console.log("Y is " + y);
	var y = 20;
}

// 자바스크립트 해석기가 인식하는 코드 
var x = 10;
function displayNumber() {
	var y;
	console.log("X is " + x);
	console.log("Y is " + y);
	y = 20;
}
displayNumber();
```

```console 
X is 10
Y is undefined
```

- 위의 예시를 통해 알 수 있는 점은 자바스크립트의 해석기<sup>interpreter</sup>는 함수 소스를 먼저 훑어 var를 사용한 변수를 따로 기억해 둔다. 
- 이로 인해 변수를 실행하기 전이지만 ' 이런 변수가 있다' 고 기억하기에, 이미 선언된 것처럼 사용이 되고 이것이 호스팅의 대표적인 예이다. 

#### 변수의 재선언과 재할당 
- var 예약어를 사용하면 재선언과 재할당을 할 수 있다. 

```javascript
function addNumber(num1, num2) {
	return num1 + num2;
}
var sum = addNumber(10, 20);// sum 변수 선언, 함수 호출
console.log(sum);
sum = 50;
console.log(sum);
var sum = 100;
console.log(sum);
```

### 15-3 let 와 const의 등장
- var 예약어가 가지는 특성이 문제를 안고 있고, 이에 ES6에서 var를 보완한 let, const 예약어가 등장하게 된다. 

#### let을 사용한 변수의 특징 
- var 예약어를 빠트리면 전역변수 생성되게 되고, 프로그램 길이가 길어지면 사용하는 변수를 재선언하는 경우, 재할당해버리는 경우 등의 문제가 발생한다. 
- 이러한 var의 특성으로 인해 let, const 가 추가되며, var 예약어를 사용하지 않는 것을 권장하게 된다. 
- 이러한 var와 let, const 사이의 차이는 '스코프의 범위' 다.  let, const 는 블록 영역의 스코프를 가진다. 

##### 블록 안에서만 쓸 수 있는 변수 
- let 예약어로 선언한 변수는 선언한 블록({ }) 안에서만 유효하다. 블록을 벗어나면 사용이 불가능해 진다. 

```javascript
function calcSum(n) {
	let sum = 0;
	for (let i = 1; i < n + 1; i++) {
		sum += i; // 변수 i 적용 범위는 이 블록 만큼이다. 
	}
	console.log(sum) // 변수 sum 의 적용 범위
}

calcSum(10);
```

![](./src/스크린샷%202022-09-28%20오후%208.34.22.png)

- 만약 전역변수를 사용하고 싶다면 let 예약어를 쓰지 않고 변수 이름과 초깃값만 할당하면 된다. 

##### 재할당은 가능하지만 재 선언은 할 수 없는 변수 
- let 예약어는 선언시 값을 재할당은 가능하나, 재 선언이 불가능하다. 

```javascript
function calcSum(n) {
	let sum = 0;
	for (let i = 1; i < n + 1; i++) {
		sum += i; // 변수 i 적용 범위는 이 블록 만큼이다. 
	}
	sum = 100; // 변수 재 할당 => ok
	let sum; // 변수 재 선언 => ko
	console.log(sum) // 변수 sum 의 적용 범위
}

calcSum(10);
```

##### 호이스팅이 없는 변수 
- var 예약어를 사용한 변수는 선언하기 전에 실행하더라도 할당되지 않은 자료형인 `undefined` 값을 가질 수 있다. 이는 호이스팅 때문이다.  단 let 을 사용한 변수는 변수 사용 정 사용시 오류 메시지를 나타낸다. 

```javascript
var x = 10;

function displayNumber() {
	console.log("x is " + x);
	console.log("y is " + y);
	let y = 20;
}

displayNumber();
```

![](./src/스크린샷%202022-09-28%20오후%208.42.36.png)

#### const 를 사용한 변수의 특징 
- const 로 선언한 변수는 상수변수<sup>constant variable</sup> 이다. 재선언, 재할당이 불가능하며 let 예약어 처럼 블록 단위의 스코프 레벨을 가진다. 
- 이러한 예약어를 사용함으로써 변수로 인한 오류를 줄일 수 있다. 
- 결론적으로 값이 자주 바뀌는 변수라면 let 예약어를, 재할당이 없는 변수라면 const 예약어를 사용하면 된다. 

#### 자바스크립트 변수, 이렇게 사용하세요
- 전역변수는 최소한으로 사용한다. 
- var 변수는 함수의 시작부분에서 선언한다. 
- for문에서 카운터 변수를 사용할 때는 var 예약어를 사용하지 않는다. 
	- var 는 함수 수준의 스코프를 취하므로, 블록 밖에서 하기보단 let을 활용해 블록 내에서 변수로 선언하기를 추천한다. 
- ES6 샤용시 var보다 let을 사용하는 것이 좋다. 

### 15-4 재사용할 수 있는 함수 만들기 
#### 매개변수, 인수, return 알아보기 
##### 함수 선언 시 매개변수 지정하기 
#### 매개변수 기본값 지정하기 
- ES6 부터는 함수에서 매개변수를 선언 시 기본값을 지정하는 기능도 생겼다. 

```javascript
(... 생략)
function multiple(a, b = 5, c = 10) { return a * b c;}
(생략 ...)
```

해당 경우 인수가 들어가지 않으면 기본값으로 할당되어 연산이 이루어질 수 있다. 

### 15-5 함수 표현식
#### 익명함수 
- 익명함수 : 이름이 없는 함수, 함수 자체가 식<sup>expression</sup> 이므로 함수를 변수에 할당할 수 있고, 다른 함수의 매개변수로 사용이 가능하다. 

```javascript

var sum = function (a, b) {return a + b;} // 익명함수 선언 및 변수 sum 에 할당

documen.write("함수 실행 결과: " + sum(10, 20)); // 익명함수 실행

```

#### 즉시 실행 함수 
- 함수는 선언하고 필요 할 때만 호출해서 사용하는 방식이다. 
- 하지만 한번 실행을 위하여 정의와 동시에 사용하는 경우를 지정해줄 수 있고 이를 **즉시 실행 함수**라고 부른다. 
- 기본형

```javascript
// 유형 1
(function() {
	명령
}());

// 유형 2
(function(매개변수) {
	명령
}(인수));
```

- 함수를 식 형태로 선언하므로 마지막에 세미콜른(;)을 붙인다. 

###### 왜 즉시 실행함수를 사용해야 하는가? 
- 초기화 : 이는 한번 실행이 필요한 부분, 초기화 코드 부분에서 많이 사용하며, 이는 변수를 전역으로 선언하는 것을 피하기 위해서다. 
```javascript 
// 예시 코드 
var initText;

(function (number) {
    var textList = ["is Odd Text", "is Even Text"];
    if (number % 2 == 0) {
        initText = textList[1];
    } else {
        initText = textList[0];
    }
})(5);

console.log(initText);
console.log(textList);
// 전역에 textList 가 저장되지 않고, initText 만 초기화된다. textList 는 지역변수로 전역변수와 충돌 없이 초기화를 가능케 한다. 
```

- 라이브러리 전역 변수의 충돌 : jQuery 나 Prototype 라이브러리는 동일한 $ 라는 전역변수를 사용하고, 이런 경우 라이브러리를 동시에 사용하면 변수끼리 충돌을 발생시킨다. **이럴 때 즉시실행함수** 를 사용하면 $ 전역 변수 충돌을 피할 수 있다. 
```javascript
(function ($) {
    // $ 는 jQuery object
})(jQuery);
```

#### 화살표함수 
- ES6 버전부터 => 표기법(화살표 표기법)을 사용한 간단한 함수 선언 방법이 제시됨. 익명함수에서만 사용이 가능하다. 
- 기본형 : `(매개변수) => { 함수 내용 }`

##### 매개변수가 없을 경우 
```javascript
const hi = function(){
	return "안녕하세요?";
}

//매개변수가 없는 화살표 함수
const hi = () => {return "안녕하세요?"};

//중괄호 생략
const hi = () => "안녕하세요?";

//매개변수가 1개인 경우
let hi = function(user) {
	document.write(user + "님, 안녕하세요?");
}

//매개변수가 1개인 경우 화살표 함수 
let hi = user => {document.write(user + "님, 안녕하세요?");}

//매개변수가 2개 이상인 경우
let sum = function(a, b) { return a + b; }

//매개변수가 2개 이상인 경우 화살표 함수 
let sum = (a, b) => a + b;
```

### 15-6 이벤트와 이벤트 처리기
- 브라우저 상에서 버튼을 클릭하거나, 어떤 행동을 하는 것을 '이벤트' 라고 부르며, 이벤트가 발생했을 시 실행하는 함수를 '이벤트 처리기'라고 한다. 

#### 이벤트 알아보기 
- 웹 브라우저나 사용자가 행하는 동작을 이벤트라고 한다. 
- 웹 브라우저 안에서 이루어지는 모든 동작이 이벤트는 아니다. 웹 문서 영역 안에서 이루어지는 동작만을 말하며, 영역을 벗어난 클릭 행위는 이벤트가 아니며, 예를 들어 웹 브라우저의 제목 표시줄을 클릭하는 것은 이벤트에 포함되지 않는다. 

##### 마우스 이벤트
- 종류 : 설명
- click : HTML 요소를 클릭할 때
- dbclick : HTML 요소를 더블 클릭할 때
- mousedown : 요소 위에서 포인터를 눌렀을 때
- mousemove : 요소 위에서 포인터를 움직일 때 
- mouseover : 요소 위로 옮겨질 때 이벤트 발생 
- mouseout : 요소에서 벗어날 때 이벤트가 발생
- mouseup : 요소 위에 놓인 마우스 버튼에서 손을 땔 때 이벤트가 발생

##### 키보드 이벤트
- 종류 : 설명
- keydown
- keypress
- keyup

##### 문서 로딩 이벤트 
- 종류 : 설명 
- abort : 문서가 완전히 로딩되기 전에 불러오기를 멈췄을 때 이벤트 발생
- error : 문서가 정확히 로딩 되지 않았을 때 이벤트가 발생한다. 
- load : 문서 로딩이 끝나면 이벤트가 발생한다. 
- resize : 문서 화먼 크기가 바뀌었을 때 이벤트가 발생한다. 
- scroll : 문서 화면이 스크롤 될 때 이벤트가 발생
- unload : 문서에서 벗어날 때 이벤트가 발생 

##### 폼 이벤트
- 종류 : 설명 
- blur : 폼 요소에 포커스를 잃었을 때 이벤트가 발생한다.
- change : 목록이나 체크 상태 등이 변경되면 이벤트가 발생한다. `<input>, <select>, <textarea>` 태그에서 사용한다. 
- focus: 폼 요소에 포커스가 놓였을 때 이벤트가 발생한다. `<label>, <select>, <textarea>, <button>`태그에서 사용한다. 
- reset : 폼이 리셋이 되었을 때 이벤트가 발생한다.
- submit : submit 버튼을 클릭했을 때, 이벤트가 발생한다. 

#### 이벤트 처리기 알아보기 
- 이벤트 발생하면 처리하는 함수를 **이벤트 처리기** 또는 **이벤트 핸들러** 라고도 한다. 

![](./src/스크린샷%202022-09-28%20오후%2011.49.45.png)

- 가장 기본적인 방법은 이벤트가 HTML 태그에 이벤트 처리기를 직접 연결하는 방법이다. 
- 기본형 `<tag on이벤트명 = "함수명">`
```HTML
(... 생략 ...)
<body>
	<li><a href="#" onclick="alert('버튼을 클릭했습니다.')">Green</a></li>
	<li><a href="#" onclick="alert('버튼을 클릭했습니다.')">Orange</a></li>
	<li><a href="#" onclick="alert('버튼을 클릭했습니다.')">Purple</a></li>
</body>
(... 생략 ...)
```

![](./src/스크린샷%202022-09-28%20오후%2011.53.40.png)

### 15-7 DOM을 이용한 이벤트 처리기
- 이전 절에서 본 이벤트 요소와 이벤트 처리기를 지정하면 태그 속성과 자바스크립트 소스가 섞이게 된다. 그래서 자바스크립트를 수정하려면 HTML의 태그와 속성을 하나씩 찾아봐야 한다. 이때 DOM을 이용하여 이벤트처리기를 지정하면 태그와 자바스크립트 소스를 **분리**해서 보기 좋게 사용이 가능하다. 

- 기존 방식은 HTML 이 주인이 되어 자바스크립트의 함수를 불러오는 방식이고, 이는 굉장히 복잡하다. 
- 따라서 대안이 DOM을 활용한 자바스크립트가 주인이 되어 HTML 요소를 가져와 이벤트처리기와 연결하는 방식이다. 
- 기본형 : `웹요소.onclick = 함수;`
- 자바스크립트에서는 웹 요소를 여러 방법으로 가져올 수 있고, 쉬운 방법은 함수 querySekector()를 사용하는 방법이다. 
	- 해당 방식은 괄호 안에는 클래스 이름이나 id 이름, 또는 다양한 선택자를 넣을 수 있다. 
	- 주의사항은 함수 이름만 사용하고 괄호는 붙이지 않아야 한다. 
```html
//버튼 클릭해서 글자색 바꾸기
(... 생략 ...)
<body>
	<button id="change">글자색 바꾸기</button>
	<p>flasflsdjkfjsdafjsdlfjlsd blah blah </p>
(... 생략 ...)
```
```javascript
function changeColor() { document.querySelector("p").style.color = "#f00";}

// 방법 1 : 웹 요소를 변수로 지정 & 미리 만든 함수 사용(여러번 사용하는 경우 변수로 할당 가능)
var changeBttn = document.querySelector("#change");
changeBttn.onclick = changeColor; // 함수를 지정하지만, 함수 이름 뒤에 괄호는 뺀다. 

// 방법 2 : 웹 요소를 따로 변수로 만들지 않고 사용(종종 쓰지 않고, 바로 쓰는 경우 사용 가능)
document.querySelector("#change").oneclick = changeColor;

// 방법 3 : 함수를 직접 선언(딱 한 번만 사용하는 경우)
document.querySelector("#change").oneclick = function() {
	document.querySelector("p").style.color = "#f00";
};

```

## 16 자바스크립트와 객체 

### 16-1 객체 알아보기
### 16-2 자바스크립트의 내장 객체
### 16-3 브라우저와 관련된 객체

## 17 문서 객체 모델(DOM) 

### 17-1 문서 객체 모델 알아보기
### 17-2 DOM 요소에 접근하고 속성 가져오기
### 17-3 DOM에서 이번트 처리하기
### 17-4 DOM에서 노드 추가 • 삭제 하기